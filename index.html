<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="plugins/leaflet-sidepanel.css"/>
        <link rel="stylesheet" href="plugins/leaflet.reachability.css"/>
        <link rel="stylesheet" href="plugins/leaflet.zoomhome.css"/>
        <link rel="stylesheet" href="plugins/leaflet-control-boxzoom.css"/>
        <link rel="stylesheet" href="plugins/L.Control.ResetView.min.css"/>
        <!--musimy przypisać ścieżkę do pluginu, podajemy ją za leaflet.css -->
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 98%;
            padding: 0;
            margin: 0;
            overflow: clip;
        }
        .top-panel, .bottom-bar {
        width: 100%;
        height: 3%;
        background-color: #082305; /* Dark background for the panel */
        opacity: 0.7;
        color: #ffffff; /* Light text color */
        padding: 10px 30px; /* Adjust the padding as needed */
        display: flex; /* Use flexbox for layout */
        justify-content: space-between; /* Space out the title and navigation */
        align-items: center; /* Center items vertically */
        box-shadow: 0 2px 5px rgba(0,0,0,0.2); /* Optional: add a shadow for depth */
    }
    .logo {
    height: 40px; /* Adjust based on the height of your top panel */
    margin-right: 20px; /* Space between the logo and the next element */
    /* No need for float:left; because flexbox is being used */
}
    .top-panel h1 {
        margin: 0; /* Remove default margin from the title */
        flex-grow: 1;
        font-size: 24px; /* Adjust the font size as needed */
    }
    .top-panel nav a {
        color: #fff; /* Ensure navigation links are also light-colored */
        text-decoration: none; /* Remove underline from links */
        margin-left: 2px; /* Add some space between links */
    }
    .top-panel nav a:hover {
        text-decoration: underline; /* Add underline on hover for better interaction feedback */
    }
    /* Hide scrollbar for Chrome, Safari, and Opera */
    ::-webkit-scrollbar {
        display: none;
    }
    /* Hide scrollbar for IE, Edge, and Firefox */
    html {
        scrollbar-width: none; /* For Firefox */
        -ms-overflow-style: none;  /* For Internet Explorer and Edge */
        
    }
    .cities-container {
    position: relative;
    display: inline-block;
    text-align: center;
}

    .cities-btn {
        background-color: #1b6426; /* Green background */
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
        width: 400px; /* Wider button */
        opacity: 0.8; /* Make button slightly transparent */
        transition: 0.3s;
    }

    .cities-btn:hover {
        opacity: 1; /* Fully opaque on hover */
    }

    .cities-dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

    .cities-dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }

    .cities-dropdown-content a:hover {background-color: #f1f1f1}

    .show {display: block;}

        
    .panel-buttons {
        display: flex;
        justify-content: space-around;
        align-items: center;
        margin-right: 50px; /* Adds some space between the buttons and the title */
    }   

    .top-btn {
        background-color: #325984; /* Bootstrap primary blue, you can adjust the color */
    color: white;
    border: none;
    padding: 5px 20px;
    margin-left: 20px; /* Adjusted to margin-left for spacing between buttons */
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    }

    .top-btn:hover {
        background-color: #0056b3; /* Darker blue on hover */
    }
    .logo-right-of-help {
    height: 20px; /* Adjust based on your actual logo size and preference */
    width: auto; /* Maintain aspect ratio */
    margin-left: 10px; /* Space between the Help button and the logo */
    opacity: 1;
    vertical-align: middle; /* Align with the middle of the buttons if necessary */
}
    .bottom-bar {
        position: fixed;
        justify-content: center;
        width: 100%;
        height: 0.1px;
        left: 0;
        bottom: 0;
        text-align: center;
        padding: 1% 0; /* Thinner padding for a slim look */
        font-size: 14px; /* Adjust as needed */
        box-shadow: 0 -2px 5px rgba(0,0,0,0.2);
    }
    .leaflet-control-layers {
    position: sticky !important; /* Override default positioning */
    top: 80px !important; /* Distance from the top of the viewport */
    left: 20px !important; /* Distance from the left of the viewport */
    z-index: 1000 !important; /* Ensure it's above other map layers */
    background-color: rgba(255, 255, 255, 0.9) !important; /* Optional: Change background */
    border-radius: 8px !important; /* Optional: Round corners */
    box-shadow: 0 1px 5px rgba(0,0,0,0.4) !important; /* Optional: Add shadow for depth */
}
     </style>
    <title>City&Co Geoportal v0.1</title>
</head>
    <body>
        <div class="top-panel">
            <img src="images/logo.png" alt="Logo" class="logo">
            <h1>MLV Cracow Setup v1.0 (16-17 april 2024)</h1>
            <div class="cities-container">
                <button class="cities-btn">CITIES</button>
                <div class="cities-dropdown-content">
                    <!-- This will be expanded to show more content upon clicking the button -->
                </div>
            </div>
            <nav class="panel-buttons">
                <button class="top-btn" onclick="location.href='#about'">About</button>
                <button class="top-btn" onclick="location.href='#research'">Research</button>
                <button class="top-btn" onclick="location.href='#contact'">Contact Us</button>
                <button class="top-btn" onclick="location.href='#help'">Help</button>
                <img src="images/language.png" alt="Logo" class="logo-right-of-help">
            </nav>
        </div>

        <div id="map">
        </div>

        <!-- Side Panel right -->
		<div id="panelID" class="sidepanel" aria-label="side panel" aria-hidden="false">
        </div>

        <div class="bottom-bar"> 
            <p>Copyright © Greg Chrobak 2024</p>
        </div>
        <!-- Include your data scripts below -->
        <script src="js/leaflet.js"></script>
        <script src="plugins/leaflet-sidepanel.js"></script>
        <script src="plugins/leaflet.reachability.js"></script>
        <script src="plugins/leaflet-providers.js"></script>
        <script src="data/Cityborder_1.js"></script>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="plugins/Control.MiniMap.min.js"></script>
        <script src="plugins/bundle.js"></script>
        <script src="plugins/Leaflet.Control.Custom.js"></script>
        <script src="plugins/leaflet.zoomhome.min.js"></script>
        <script src="plugins/leaflet-control-boxzoom.js"></script>
        <script src="plugins/L.Control.ResetView.min.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="data/Cityborder_1.js"></script>
        <script src="data/Districts_2.js"></script>
        <script src="data/park_3.js"></script>
        <script src="data/communitycentre_4.js"></script>
        <script src="data/bench_5.js"></script>
        <script src="data/toilet_6.js"></script>
        <script src="data/postoffice_7.js"></script>
        <script src="data/market_place_8.js"></script>
        <script src="data/library_9.js"></script>
        <script src="data/supermarket_10.js"></script>
        <script src="data/kiosk_11.js"></script>
        <script src="data/convenience_12.js"></script>
        <script src="data/greengrocer_13.js"></script>
        <script src="data/railwaystation_14.js"></script>
        <script src="data/railwayhalt_15.js"></script>
        <script src="data/taxi_16.js"></script>
        <script src="data/tramstop_17.js"></script>
        <script src="data/busstop_18.js"></script>
        <script src="data/hospital_19.js"></script>
        <script src="data/doctors_20.js"></script>
        <script src="data/clinic_21.js"></script>
        <script src="data/pharmacy_22.js"></script>
        <script>
        
        var map = L.map('map', {
            zoomControl: false, 
            maxZoom:28, 
            minZoom:2,
            latlng: L.latLng([50.0447, 19.9673]), // Example coordinates (latitude, longitude)
            zoom: 13
        });

        const panelRight = L.control.sidepanel('panelID', {
            panelPosition: 'right',
            hasTabs: false,
            tabsPosition: 'top',
            pushControls: true,
            darkMode: true,
            startTab: 'tab-5'
        }).addTo(map);
        
        L.control.scale({
            padding: '50px',
            margin: '50px',
            display: 'flex',
        }).addTo(map);

        L.control.custom({
    position: 'bottomright',
    content : '<button type="button" class="btn btn-default">'+
              '    <i class="fa fa-crosshairs"></i>'+
              '</button>'+
              '<button type="button" class="btn btn-info">'+
              '    <i class="fa fa-compass"></i>'+
              '</button>'+
              '<button type="button" class="btn btn-primary">'+
              '    <i class="fa fa-spinner fa-pulse fa-fw"></i>'+
              '</button>'+
              '<button type="button" class="btn btn-danger">'+
              '    <i class="fa fa-times"></i>'+
              '</button>'+
              '<button type="button" class="btn btn-success">'+
              '    <i class="fa fa-check"></i>'+
              '</button>'+
              '<button type="button" class="btn btn-warning">'+
              '    <i class="fa fa-exclamation-triangle"></i>'+
              '</button>',
    classes : 'btn-group-vertical btn-group-sm',
    style   :
    {
        margin: '20px',
        marginRight: '3px',
        display: 'flex',
        padding: '0px 0px 0 0',
        zIndex: 1000,
        cursor: 'pointer',
    },
    datas   :
    {
        'foo': 'bar',
    },
    events:
    {
        click: function(data)
        {
            console.log('wrapper div element clicked');
            console.log(data);
        },
        dblclick: function(data)
        {
            console.log('wrapper div element dblclicked');
            console.log(data);
        },
        contextmenu: function(data)
        {
            console.log('wrapper div element contextmenu');
            console.log(data);
        },
    }
})
.addTo(map);
        L.control.zoom({ position: 'topright' }).addTo(map);
        //L.Control.boxzoom({position:'topright'}).addTo(map);
        L.control.resetView({
        position: "topright",
        title: "Reset view",
        latlng: L.latLng([50.0447, 19.9673]),
        zoom: 12,
    }).addTo(map);

    L.easyPrint({
	title: 'My awesome print button',
	position: 'topright',
	sizeModes: ['A4Portrait', 'A4Landscape']

}).addTo(map);

        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        document.querySelector(".leaflet-popup-pane").addEventListener("load", function(event) {
          var tagName = event.target.tagName,
            popup = map._popup;
          // Also check if flag is already set.
          if (tagName === "IMG" && popup && !popup._updated) {
            popup._updated = true; // Set flag to prevent looping.
            popup.update();
          }
        }, true);
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
            if (bounds_group.getLayers().length) {
                map.fitBounds(bounds_group.getBounds());
            }
        }
        
        map.createPane('pane_OpenStreetMap_0');
        map.getPane('pane_OpenStreetMap_0').style.zIndex = 400;

        var layer_OpenStreetMap_0 = L.tileLayer.provider('OpenStreetMap.Mapnik');
        var layer_OpenTopoMap = L.tileLayer.provider('OpenTopoMap');
        var layer_EsriImagery = L.tileLayer.provider('Esri.WorldImagery');
        
        //layer_OpenStreetMap_0;
        map.addLayer(layer_OpenStreetMap_0);

        // Add the reachability plugin
        var reachabilityControl = new L.control.reachability({
                // add settings here
                apiKey: '5b3ce3597851110001cf62480dd86f4a17ae4a2d8d6272bcd5d7d8a8', // PLEASE REGISTER WITH OPENROUTESERVICE FOR YOUR OWN KEY!
                position: 'topright'
            }).addTo(map);


        Basemaps = {
                    "OSM": layer_OpenStreetMap_0,
                    "Topography": layer_OpenTopoMap,
                    "Imagery": layer_EsriImagery,
                };

                var ctlLegend2 = L.control.layers(Basemaps, null, {position: 'bottomright'}).addTo(map);

        function pop_Cityborder_1(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }
            
        function style_Cityborder_1_0() {
            return {
                pane: 'pane_Cityborder_1',
                opacity: 1,
                color: 'rgba(12,27,40,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 4.0,
                fillOpacity: 0,
                interactive: false,
            }
        }
        map.createPane('pane_Cityborder_1');
        map.getPane('pane_Cityborder_1').style.zIndex = 401;
        map.getPane('pane_Cityborder_1').style['mix-blend-mode'] = 'normal';
        var layer_Cityborder_1 = new L.geoJson(json_Cityborder_1, {
            attribution: '',
            interactive: false,
            dataVar: 'json_Cityborder_1',
            layerName: 'layer_Cityborder_1',
            pane: 'pane_Cityborder_1',
            onEachFeature: pop_Cityborder_1,
            style: style_Cityborder_1_0,
        });
        bounds_group.addLayer(layer_Cityborder_1);
        map.addLayer(layer_Cityborder_1);
        function pop_Districts_2(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_Districts_2_0(feature) {
            switch(String(feature.properties['nazwa'])) {
                case 'Bieńczyce':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(215,106,182,0.612)',
                interactive: true,
            }
                    break;
                case 'Bieżanów-Prokocim':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(56,222,183,0.612)',
                interactive: true,
            }
                    break;
                case 'Bronowice':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(30,212,228,0.612)',
                interactive: true,
            }
                    break;
                case 'Czyżyny':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(240,149,30,0.612)',
                interactive: true,
            }
                    break;
                case 'Dębniki':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(225,129,135,0.612)',
                interactive: true,
            }
                    break;
                case 'Grzegórzki':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(187,225,33,0.612)',
                interactive: true,
            }
                    break;
                case 'Krowodrza':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(144,140,233,0.612)',
                interactive: true,
            }
                    break;
                case 'Łagiewniki-Borek Fałęcki':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(237,86,36,0.612)',
                interactive: true,
            }
                    break;
                case 'Mistrzejowice':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(152,102,239,0.612)',
                interactive: true,
            }
                    break;
                case 'Nowa Huta':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(59,155,224,0.612)',
                interactive: true,
            }
                    break;
                case 'Podgórze':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(129,228,142,0.612)',
                interactive: true,
            }
                    break;
                case 'Podgórze Duchackie':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(72,206,132,0.612)',
                interactive: true,
            }
                    break;
                case 'Prądnik Biały':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(95,209,72,0.612)',
                interactive: true,
            }
                    break;
                case 'Prądnik Czerwony':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(127,152,218,0.612)',
                interactive: true,
            }
                    break;
                case 'Stare Miasto':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(202,70,120,0.612)',
                interactive: true,
            }
                    break;
                case 'Swoszowice':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(149,206,96,0.612)',
                interactive: true,
            }
                    break;
                case 'Wzgórza Krzesławickie':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(154,30,212,0.612)',
                interactive: true,
            }
                    break;
                case 'Zwierzyniec':
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(230,208,41,0.612)',
                interactive: true,
            }
                    break;
                default:
                    return {
                pane: 'pane_Districts_2',
                opacity: 1,
                color: 'rgba(247,247,247,0.612)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(224,23,227,0.612)',
                interactive: true,
            }
                    break;
            }
        }
        map.createPane('pane_Districts_2');
        map.getPane('pane_Districts_2').style.zIndex = 402;
        map.getPane('pane_Districts_2').style['mix-blend-mode'] = 'normal';
        var layer_Districts_2 = new L.geoJson(json_Districts_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Districts_2',
            layerName: 'layer_Districts_2',
            pane: 'pane_Districts_2',
            onEachFeature: pop_Districts_2,
            style: style_Districts_2_0,
        });
        bounds_group.addLayer(layer_Districts_2);
        function pop_park_3(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_park_3_0() {
            return {
                pane: 'pane_park_3',
                opacity: 1,
                color: 'rgba(119,130,50,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(119,130,50,1.0)',
                interactive: false,
            }
        }
        map.createPane('pane_park_3');
        map.getPane('pane_park_3').style.zIndex = 403;
        map.getPane('pane_park_3').style['mix-blend-mode'] = 'normal';
        var layer_park_3 = new L.geoJson(json_park_3, {
            attribution: '',
            interactive: false,
            dataVar: 'json_park_3',
            layerName: 'layer_park_3',
            pane: 'pane_park_3',
            onEachFeature: pop_park_3,
            style: style_park_3_0,
        });
        bounds_group.addLayer(layer_park_3);
        function pop_communitycentre_4(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_communitycentre_4_0() {
            return {
                pane: 'pane_communitycentre_4',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/communitycentre_4.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_communitycentre_4');
        map.getPane('pane_communitycentre_4').style.zIndex = 404;
        map.getPane('pane_communitycentre_4').style['mix-blend-mode'] = 'normal';
        var layer_communitycentre_4 = new L.geoJson(json_communitycentre_4, {
            attribution: '',
            interactive: false,
            dataVar: 'json_communitycentre_4',
            layerName: 'layer_communitycentre_4',
            pane: 'pane_communitycentre_4',
            onEachFeature: pop_communitycentre_4,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_communitycentre_4_0(feature));
            },
        });
        bounds_group.addLayer(layer_communitycentre_4);
        function pop_bench_5(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_bench_5_0() {
            return {
                pane: 'pane_bench_5',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/bench_5.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_bench_5');
        map.getPane('pane_bench_5').style.zIndex = 405;
        map.getPane('pane_bench_5').style['mix-blend-mode'] = 'normal';
        var layer_bench_5 = new L.geoJson(json_bench_5, {
            attribution: '',
            interactive: false,
            dataVar: 'json_bench_5',
            layerName: 'layer_bench_5',
            pane: 'pane_bench_5',
            onEachFeature: pop_bench_5,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_bench_5_0(feature));
            },
        });
        bounds_group.addLayer(layer_bench_5);
        function pop_toilet_6(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_toilet_6_0() {
            return {
                pane: 'pane_toilet_6',
        rotationAngle: -0.02617995,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/toilet_6.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_toilet_6');
        map.getPane('pane_toilet_6').style.zIndex = 406;
        map.getPane('pane_toilet_6').style['mix-blend-mode'] = 'normal';
        var layer_toilet_6 = new L.geoJson(json_toilet_6, {
            attribution: '',
            interactive: false,
            dataVar: 'json_toilet_6',
            layerName: 'layer_toilet_6',
            pane: 'pane_toilet_6',
            onEachFeature: pop_toilet_6,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_toilet_6_0(feature));
            },
        });
        bounds_group.addLayer(layer_toilet_6);
        function pop_postoffice_7(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_postoffice_7_0() {
            return {
                pane: 'pane_postoffice_7',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/postoffice_7.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_postoffice_7');
        map.getPane('pane_postoffice_7').style.zIndex = 407;
        map.getPane('pane_postoffice_7').style['mix-blend-mode'] = 'normal';
        var layer_postoffice_7 = new L.geoJson(json_postoffice_7, {
            attribution: '',
            interactive: false,
            dataVar: 'json_postoffice_7',
            layerName: 'layer_postoffice_7',
            pane: 'pane_postoffice_7',
            onEachFeature: pop_postoffice_7,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_postoffice_7_0(feature));
            },
        });
        bounds_group.addLayer(layer_postoffice_7);
        function pop_market_place_8(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_market_place_8_0() {
            return {
                pane: 'pane_market_place_8',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/market_place_8.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_market_place_8');
        map.getPane('pane_market_place_8').style.zIndex = 408;
        map.getPane('pane_market_place_8').style['mix-blend-mode'] = 'normal';
        var layer_market_place_8 = new L.geoJson(json_market_place_8, {
            attribution: '',
            interactive: false,
            dataVar: 'json_market_place_8',
            layerName: 'layer_market_place_8',
            pane: 'pane_market_place_8',
            onEachFeature: pop_market_place_8,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_market_place_8_0(feature));
            },
        });
        bounds_group.addLayer(layer_market_place_8);
        function pop_library_9(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_library_9_0() {
            return {
                pane: 'pane_library_9',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/library_9.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_library_9');
        map.getPane('pane_library_9').style.zIndex = 409;
        map.getPane('pane_library_9').style['mix-blend-mode'] = 'normal';
        var layer_library_9 = new L.geoJson(json_library_9, {
            attribution: '',
            interactive: false,
            dataVar: 'json_library_9',
            layerName: 'layer_library_9',
            pane: 'pane_library_9',
            onEachFeature: pop_library_9,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_library_9_0(feature));
            },
        });
        bounds_group.addLayer(layer_library_9);
        function pop_supermarket_10(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_supermarket_10_0() {
            return {
                pane: 'pane_supermarket_10',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/supermarket_10.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_supermarket_10');
        map.getPane('pane_supermarket_10').style.zIndex = 410;
        map.getPane('pane_supermarket_10').style['mix-blend-mode'] = 'normal';
        var layer_supermarket_10 = new L.geoJson(json_supermarket_10, {
            attribution: '',
            interactive: false,
            dataVar: 'json_supermarket_10',
            layerName: 'layer_supermarket_10',
            pane: 'pane_supermarket_10',
            onEachFeature: pop_supermarket_10,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_supermarket_10_0(feature));
            },
        });
        bounds_group.addLayer(layer_supermarket_10);
        function pop_kiosk_11(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_kiosk_11_0() {
            return {
                pane: 'pane_kiosk_11',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/kiosk_11.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_kiosk_11');
        map.getPane('pane_kiosk_11').style.zIndex = 411;
        map.getPane('pane_kiosk_11').style['mix-blend-mode'] = 'normal';
        var layer_kiosk_11 = new L.geoJson(json_kiosk_11, {
            attribution: '',
            interactive: false,
            dataVar: 'json_kiosk_11',
            layerName: 'layer_kiosk_11',
            pane: 'pane_kiosk_11',
            onEachFeature: pop_kiosk_11,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_kiosk_11_0(feature));
            },
        });
        bounds_group.addLayer(layer_kiosk_11);
        function pop_convenience_12(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_convenience_12_0() {
            return {
                pane: 'pane_convenience_12',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/convenience_12.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_convenience_12');
        map.getPane('pane_convenience_12').style.zIndex = 412;
        map.getPane('pane_convenience_12').style['mix-blend-mode'] = 'normal';
        var layer_convenience_12 = new L.geoJson(json_convenience_12, {
            attribution: '',
            interactive: false,
            dataVar: 'json_convenience_12',
            layerName: 'layer_convenience_12',
            pane: 'pane_convenience_12',
            onEachFeature: pop_convenience_12,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_convenience_12_0(feature));
            },
        });
        bounds_group.addLayer(layer_convenience_12);
        function pop_greengrocer_13(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_greengrocer_13_0() {
            return {
                pane: 'pane_greengrocer_13',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/greengrocer_13.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_greengrocer_13');
        map.getPane('pane_greengrocer_13').style.zIndex = 413;
        map.getPane('pane_greengrocer_13').style['mix-blend-mode'] = 'normal';
        var layer_greengrocer_13 = new L.geoJson(json_greengrocer_13, {
            attribution: '',
            interactive: false,
            dataVar: 'json_greengrocer_13',
            layerName: 'layer_greengrocer_13',
            pane: 'pane_greengrocer_13',
            onEachFeature: pop_greengrocer_13,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_greengrocer_13_0(feature));
            },
        });
        bounds_group.addLayer(layer_greengrocer_13);
        function pop_railwaystation_14(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_railwaystation_14_0() {
            return {
                pane: 'pane_railwaystation_14',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/railwaystation_14.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_railwaystation_14');
        map.getPane('pane_railwaystation_14').style.zIndex = 414;
        map.getPane('pane_railwaystation_14').style['mix-blend-mode'] = 'normal';
        var layer_railwaystation_14 = new L.geoJson(json_railwaystation_14, {
            attribution: '',
            interactive: false,
            dataVar: 'json_railwaystation_14',
            layerName: 'layer_railwaystation_14',
            pane: 'pane_railwaystation_14',
            onEachFeature: pop_railwaystation_14,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_railwaystation_14_0(feature));
            },
        });
        bounds_group.addLayer(layer_railwaystation_14);
        function pop_railwayhalt_15(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_railwayhalt_15_0() {
            return {
                pane: 'pane_railwayhalt_15',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/railwayhalt_15.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_railwayhalt_15');
        map.getPane('pane_railwayhalt_15').style.zIndex = 415;
        map.getPane('pane_railwayhalt_15').style['mix-blend-mode'] = 'normal';
        var layer_railwayhalt_15 = new L.geoJson(json_railwayhalt_15, {
            attribution: '',
            interactive: false,
            dataVar: 'json_railwayhalt_15',
            layerName: 'layer_railwayhalt_15',
            pane: 'pane_railwayhalt_15',
            onEachFeature: pop_railwayhalt_15,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_railwayhalt_15_0(feature));
            },
        });
        bounds_group.addLayer(layer_railwayhalt_15);
        function pop_taxi_16(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_taxi_16_0() {
            return {
                pane: 'pane_taxi_16',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/taxi_16.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_taxi_16');
        map.getPane('pane_taxi_16').style.zIndex = 416;
        map.getPane('pane_taxi_16').style['mix-blend-mode'] = 'normal';
        var layer_taxi_16 = new L.geoJson(json_taxi_16, {
            attribution: '',
            interactive: false,
            dataVar: 'json_taxi_16',
            layerName: 'layer_taxi_16',
            pane: 'pane_taxi_16',
            onEachFeature: pop_taxi_16,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_taxi_16_0(feature));
            },
        });
        bounds_group.addLayer(layer_taxi_16);
        function pop_tramstop_17(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_tramstop_17_0() {
            return {
                pane: 'pane_tramstop_17',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/tramstop_17.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_tramstop_17');
        map.getPane('pane_tramstop_17').style.zIndex = 417;
        map.getPane('pane_tramstop_17').style['mix-blend-mode'] = 'normal';
        var layer_tramstop_17 = new L.geoJson(json_tramstop_17, {
            attribution: '',
            interactive: false,
            dataVar: 'json_tramstop_17',
            layerName: 'layer_tramstop_17',
            pane: 'pane_tramstop_17',
            onEachFeature: pop_tramstop_17,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_tramstop_17_0(feature));
            },
        });
        bounds_group.addLayer(layer_tramstop_17);
        function pop_busstop_18(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_busstop_18_0() {
            return {
                pane: 'pane_busstop_18',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/busstop_18.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_busstop_18');
        map.getPane('pane_busstop_18').style.zIndex = 418;
        map.getPane('pane_busstop_18').style['mix-blend-mode'] = 'normal';
        var layer_busstop_18 = new L.geoJson(json_busstop_18, {
            attribution: '',
            interactive: false,
            dataVar: 'json_busstop_18',
            layerName: 'layer_busstop_18',
            pane: 'pane_busstop_18',
            onEachFeature: pop_busstop_18,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_busstop_18_0(feature));
            },
        });
        bounds_group.addLayer(layer_busstop_18);
        function pop_hospital_19(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_hospital_19_0() {
            return {
                pane: 'pane_hospital_19',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/hospital_19.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_hospital_19');
        map.getPane('pane_hospital_19').style.zIndex = 419;
        map.getPane('pane_hospital_19').style['mix-blend-mode'] = 'normal';
        var layer_hospital_19 = new L.geoJson(json_hospital_19, {
            attribution: '',
            interactive: false,
            dataVar: 'json_hospital_19',
            layerName: 'layer_hospital_19',
            pane: 'pane_hospital_19',
            onEachFeature: pop_hospital_19,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_hospital_19_0(feature));
            },
        });
        bounds_group.addLayer(layer_hospital_19);
        function pop_doctors_20(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_doctors_20_0() {
            return {
                pane: 'pane_doctors_20',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/doctors_20.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_doctors_20');
        map.getPane('pane_doctors_20').style.zIndex = 420;
        map.getPane('pane_doctors_20').style['mix-blend-mode'] = 'normal';
        var layer_doctors_20 = new L.geoJson(json_doctors_20, {
            attribution: '',
            interactive: false,
            dataVar: 'json_doctors_20',
            layerName: 'layer_doctors_20',
            pane: 'pane_doctors_20',
            onEachFeature: pop_doctors_20,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_doctors_20_0(feature));
            },
        });
        bounds_group.addLayer(layer_doctors_20);
        function pop_clinic_21(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_clinic_21_0() {
            return {
                pane: 'pane_clinic_21',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/clinic_21.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_clinic_21');
        map.getPane('pane_clinic_21').style.zIndex = 421;
        map.getPane('pane_clinic_21').style['mix-blend-mode'] = 'normal';
        var layer_clinic_21 = new L.geoJson(json_clinic_21, {
            attribution: '',
            interactive: false,
            dataVar: 'json_clinic_21',
            layerName: 'layer_clinic_21',
            pane: 'pane_clinic_21',
            onEachFeature: pop_clinic_21,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_clinic_21_0(feature));
            },
        });
        bounds_group.addLayer(layer_clinic_21);
        function pop_pharmacy_22(feature, layer) {
            var popupContent = '<table>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_pharmacy_22_0() {
            return {
                pane: 'pane_pharmacy_22',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/pharmacy_22.svg',
            iconSize: [15.2, 15.2]
        }),
                interactive: false,
            }
        }
        map.createPane('pane_pharmacy_22');
        map.getPane('pane_pharmacy_22').style.zIndex = 422;
        map.getPane('pane_pharmacy_22').style['mix-blend-mode'] = 'normal';
        var layer_pharmacy_22 = new L.geoJson(json_pharmacy_22, {
            attribution: '',
            interactive: false,
            dataVar: 'json_pharmacy_22',
            layerName: 'layer_pharmacy_22',
            pane: 'pane_pharmacy_22',
            onEachFeature: pop_pharmacy_22,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_pharmacy_22_0(feature));
            },
        });
        bounds_group.addLayer(layer_pharmacy_22);
        var baseMaps = {};
        var overlaysTree = [
        {label: '<b>Health</b>', selectAllCheckbox: true, children: [
            {label: '<img src="legend/pharmacy_22.png" /> pharmacy', layer: layer_pharmacy_22},
            {label: '<img src="legend/clinic_21.png" /> clinic', layer: layer_clinic_21},
            {label: '<img src="legend/doctors_20.png" /> doctors', layer: layer_doctors_20},
            {label: '<img src="legend/hospital_19.png" /> hospital', layer: layer_hospital_19},]},
        {label: '<b>Transport</b>', selectAllCheckbox: true, children: [
            {label: '<img src="legend/busstop_18.png" /> bus stop', layer: layer_busstop_18},
            {label: '<img src="legend/tramstop_17.png" /> tram stop', layer: layer_tramstop_17},
            {label: '<img src="legend/taxi_16.png" /> taxi', layer: layer_taxi_16},
            {label: '<img src="legend/railwayhalt_15.png" /> railway halt', layer: layer_railwayhalt_15},
            {label: '<img src="legend/railwaystation_14.png" /> railway station', layer: layer_railwaystation_14},]},
        {label: '<b>Errands</b>', selectAllCheckbox: true, children: [
            {label: '<img src="legend/greengrocer_13.png" /> greengrocer', layer: layer_greengrocer_13},
            {label: '<img src="legend/convenience_12.png" /> convenience', layer: layer_convenience_12},
            {label: '<img src="legend/kiosk_11.png" /> kiosk', layer: layer_kiosk_11},
            {label: '<img src="legend/supermarket_10.png" /> supermarket', layer: layer_supermarket_10},
            {label: '<img src="legend/library_9.png" /> library', layer: layer_library_9},
            {label: '<img src="legend/market_place_8.png" /> market_place', layer: layer_market_place_8},
            {label: '<img src="legend/postoffice_7.png" /> post office', layer: layer_postoffice_7},]},
        {label: '<b>Outdoor</b>', selectAllCheckbox: true, children: [
            {label: '<img src="legend/toilet_6.png" /> toilet', layer: layer_toilet_6},
            {label: '<img src="legend/bench_5.png" /> bench', layer: layer_bench_5},
            {label: '<img src="legend/communitycentre_4.png" /> community centre', layer: layer_communitycentre_4},
            {label: '<img src="legend/park_3.png" /> park', layer: layer_park_3},]},
        {label: '<b>Administration</b>', selectAllCheckbox: true, children: [
            {label: 'Districts<br /><table><tr><td style="text-align: center;"><img src="legend/Districts_2_Bieńczyce0.png" /></td><td>Bieńczyce</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_BieżanówProkocim1.png" /></td><td>Bieżanów-Prokocim</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_Bronowice2.png" /></td><td>Bronowice</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_Czyżyny3.png" /></td><td>Czyżyny</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_Dębniki4.png" /></td><td>Dębniki</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_Grzegórzki5.png" /></td><td>Grzegórzki</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_Krowodrza6.png" /></td><td>Krowodrza</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_ŁagiewnikiBorekFałęcki7.png" /></td><td>Łagiewniki-Borek Fałęcki</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_Mistrzejowice8.png" /></td><td>Mistrzejowice</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_NowaHuta9.png" /></td><td>Nowa Huta</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_Podgórze10.png" /></td><td>Podgórze</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_PodgórzeDuchackie11.png" /></td><td>Podgórze Duchackie</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_PrądnikBiały12.png" /></td><td>Prądnik Biały</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_PrądnikCzerwony13.png" /></td><td>Prądnik Czerwony</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_StareMiasto14.png" /></td><td>Stare Miasto</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_Swoszowice15.png" /></td><td>Swoszowice</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_WzgórzaKrzesławickie16.png" /></td><td>Wzgórza Krzesławickie</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_Zwierzyniec17.png" /></td><td>Zwierzyniec</td></tr><tr><td style="text-align: center;"><img src="legend/Districts_2_18.png" /></td><td></td></tr></table>', layer: layer_Districts_2},
            {label: '<img src="legend/Cityborder_1.png" /> City border', layer: layer_Cityborder_1},]},]
            var lay = L.control.layers.tree(null, overlaysTree, {
    // Options you've previously set or commented out
    collapsed: false,
    position: 'topleft' // Add this line to set the position
});
lay.addTo(map);
        setBounds();
        </script>

<script>
    document.querySelector(".cities-btn").addEventListener("click", function() {
        this.nextElementSibling.classList.toggle("show");
    });
    
    window.onclick = function(event) {
        if (!event.target.matches('.cities-btn')) {
            var dropdowns = document.getElementsByClassName("cities-dropdown-content");
            for (var i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }
    </script>
     <script>
        // Ensure DOM is ready
        $(document).ready(function() {
            // Your event handler
            $('#cities-btn').click(function() {
                panelRight.toggle();
            });
        });
    </script>
    </body>
</html>
